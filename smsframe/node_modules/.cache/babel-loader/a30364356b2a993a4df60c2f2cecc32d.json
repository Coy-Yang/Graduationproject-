{"remainingRequest":"G:\\smsframe\\node_modules\\babel-loader\\lib\\index.js!G:\\smsframe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\smsframe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\smsframe\\src\\components\\workArrangement\\select.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\smsframe\\src\\components\\workArrangement\\select.vue","mtime":1544421660194},{"path":"G:\\smsframe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\smsframe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      title: \"添加工作类型\",\n      url: \"http://localhost:8080\",\n      count: 10,\n      modal13: false,\n      modal14: false,\n      departmentType: [],\n      columns7: [{\n        title: '工作编号',\n        key: 'wId',\n        align: 'center',\n        render: function render(h, params) {\n          return h('div', [h('Icon', {\n            props: {\n              type: 'person'\n            }\n          }), h('strong', params.row.wId)]);\n        }\n      }, {\n        title: '工作标题',\n        key: 'wTitle',\n        align: 'center'\n      }, {\n        title: '负责部门',\n        key: 'dName',\n        align: 'center'\n      }, {\n        title: '总负责人',\n        key: 'mName',\n        align: 'center'\n      }, {\n        title: '时间',\n        key: 'wDate',\n        align: 'center'\n      }, {\n        title: '备注',\n        key: 'wRemarks',\n        align: 'center'\n      }, {\n        title: '工作内容',\n        key: 'wContents',\n        align: 'center'\n      }, {\n        title: '操作',\n        key: 'action',\n        width: 150,\n        align: 'center',\n        render: function render(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'primary',\n              size: 'small'\n            },\n            style: {\n              marginRight: '5px'\n            },\n            on: {\n              click: function click() {\n                _this.show(params.row);\n              }\n            }\n          }, '编辑'), h('Button', {\n            props: {\n              type: 'error',\n              size: 'small'\n            },\n            on: {\n              click: function click() {\n                _this.remove(params.row.wId, params.index);\n              }\n            }\n          }, '移除')]);\n        }\n      }],\n      data6: [],\n      memberInformationType: [],\n      workArrangement: {\n        wId: 0,\n        wTitle: \"\",\n        wRemarks: \"\",\n        dName: \"\",\n        dId: \"\",\n        mName: \"\",\n        wDate: \"\",\n        wContents: \"\"\n      }\n    };\n  },\n  methods: {\n    show: function show(data) {\n      this.modal13 = true;\n      this.workArrangement.wId = data.wId;\n      this.workArrangement.dId = data.dId;\n      this.workArrangement.wTitle = data.wTitle;\n      this.workArrangement.wRemarks = data.wRemarks;\n      this.workArrangement.wDate = data.wDate;\n      this.workArrangement.wContents = data.wContents;\n      this.workArrangement.mName = data.mName;\n    },\n    changePage: function changePage(page) {\n      var th = this;\n      axios.get(th.url + '/workArrangement/selectAll', {\n        params: {\n          pageNum: page\n        }\n      }).then(function (res) {\n        var datares = res.data.data.map(function (e) {\n          e.dName = e.departmentType.dName;\n          return e;\n        });\n        th.data6 = datares;\n        console.log(res.data.data);\n        /* for(let data of res.data.data){\n        \tth.data6.push({\n        \t\"wId\":data.wId,\n        \t\"dId\":data.dId,\n        \t\"wTitle\":data.wTitle,\n        \t\"wRemarks\":data.wRemarks,\n        \t\"wDate\":data.wDate,\n        \t\"wContents\":data.wContents,\n        \t\"dName\":data.departmentType.dName,\n        \t\"mName\":data.mName}\n        \t);\n        } */\n      });\n    },\n    selectAdd: function selectAdd() {\n      var th = this;\n      axios.get(th.url + '/departmentType/iSelectAllStatus').then(function (res) {\n        th.departmentType = res.data.data;\n      });\n      axios.get(th.url + '/memberInformation/iSelectName', {\n        params: {\n          pId: 4\n        }\n      }).then(function (res) {\n        th.memberInformationType = res.data.data;\n      });\n    },\n    add: function add() {\n      this.modal14 = true;\n    },\n    remove: function remove(wId, index) {\n      var _this2 = this;\n\n      this.$Modal.confirm({\n        title: '删除提示',\n        content: '<p>移除后不可恢复，确定继续？</p>',\n        onOk: function onOk() {\n          var th = _this2;\n          axios.get(th.url + '/workArrangement/deleteByPrimaryKey', {\n            params: {\n              wId: wId\n            }\n          }).then(function (res) {\n            if (res.data.code === 1028) {\n              th.$Message.success(res.data.message);\n              th.changePage(1);\n            } else {\n              th.$Message.error(res.data.message);\n            }\n          });\n        }\n      });\n    },\n    ok: function ok() {\n      var th = this;\n      axios.post(th.url + '/workArrangement/updateByPrimaryKey', th.workArrangement, {\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        }\n      }).then(function (res) {\n        if (res.data.code === 1028) {\n          th.$Message.success(res.data.message);\n          th.changePage(1);\n        } else {\n          th.$Message.error(res.data.message);\n        }\n      });\n    },\n    oks: function oks() {\n      var th = this;\n      axios.post(th.url + '/workArrangement/insert', th.workArrangement, {\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        }\n      }).then(function (res) {\n        if (res.data.code === 1028) {\n          th.$Message.success(res.data.message);\n          th.changePage(1);\n        } else {\n          th.$Message.error(res.data.message);\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.changePage(1);\n    this.selectAdd();\n  }\n};",{"version":3,"sources":["select.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Form ref=\"formValidate\" :model=\"workArrangement\"  :label-width=\"80\">\r\n\t\t<FormItem>\r\n\t\t\t\t<Button type=\"success\"  @click=\"add()\" long>添加</Button>\r\n\t\t</FormItem>\r\n\t\t</Form>\r\n\t\t<Table border :columns=\"columns7\" :data=\"data6\"></Table>\r\n\t\t<div style=\"margin: 10px;overflow: hidden\">\r\n\t\t\t<div style=\"float: right;\">\r\n\t\t\t\t<Page :total=\"count\" :current=\"1\" @on-change=\"changePage($event)\"></Page>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<Modal v-model=\"modal13\" draggable scrollable title=\"工作安排\" @on-ok=\"ok\" >\r\n\t\t\t<Form ref=\"formValidate\" :model=\"workArrangement\"  :label-width=\"80\">\r\n\t\t\t\t<FormItem label=\"工作标题\" prop=\"wTitle\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wTitle\" placeholder=\"请输入工作标题\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"负责人\" prop=\"mName\">\r\n\t\t\t\t\t<Select v-model=\"workArrangement.mName\" placeholder=\"请选择负责人\" >\r\n\t\t\t\t\t<Option v-for=\"item in memberInformationType\" :value=\"item.mName\" :key=\"item.mId\">{{ item.mName }}</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"负责部门\" prop=\"dName\">\r\n\t\t\t\t\t<Select v-model=\"workArrangement.dId\" placeholder=\"请选择部门\" >\r\n\t\t\t\t\t<Option v-for=\"item in departmentType\" :value=\"item.dId\" :key=\"item.dId\">{{ item.dName }}</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"入会时间\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span=\"11\">\r\n\t\t\t\t\t\t<FormItem prop=\"wDate\">\r\n\t\t\t\t\t\t\t<DatePicker type=\"date\" placeholder=\"请选择入会时间\" v-model=\"workArrangement.wDate\"></DatePicker>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem  label=\"工作备注\" prop=\"wRemarks\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wRemarks\" type='textarea' :autosize=\"{minRows: 5,maxRows: 6}\"  placeholder=\"请输入工作备注\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem  label=\"工作内容\" prop=\"wContents\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wContents\" type='textarea' :autosize=\"{minRows: 5,maxRows: 6}\"  placeholder=\"请输入工作内容\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t\t<Modal v-model=\"modal14\" draggable scrollable title=\"工作安排\" @on-ok=\"oks\">\r\n\t\t\t<Form ref=\"formValidate\" :model=\"workArrangement\"  :label-width=\"80\">\r\n\t\t\t\t<FormItem label=\"工作标题\" prop=\"wTitle\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wTitle\" placeholder=\"请输入工作标题\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"负责人\" prop=\"mName\">\r\n\t\t\t\t\t<Select v-model=\"workArrangement.mName\" placeholder=\"请选择负责人\" >\r\n\t\t\t\t\t<Option v-for=\"item in memberInformationType\" :value=\"item.mName\" :key=\"item.mId\">{{ item.mName }}</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"负责部门\" prop=\"dName\">\r\n\t\t\t\t\t<Select v-model=\"workArrangement.dId\" placeholder=\"请选择部门\" >\r\n\t\t\t\t\t<Option v-for=\"item in departmentType\" :value=\"item.dId\" :key=\"item.dId\">{{ item.dName }}</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"入会时间\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span=\"11\">\r\n\t\t\t\t\t\t<FormItem prop=\"wDate\">\r\n\t\t\t\t\t\t\t<DatePicker type=\"date\" placeholder=\"请选择入会时间\" v-model=\"workArrangement.wDate\"></DatePicker>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem  label=\"工作备注\" prop=\"wRemarks\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wRemarks\" type='textarea' :autosize=\"{minRows: 5,maxRows: 6}\"  placeholder=\"请输入工作备注\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem  label=\"工作内容\" prop=\"wContents\">\r\n\t\t\t\t\t<Input v-model=\"workArrangement.wContents\" type='textarea' :autosize=\"{minRows: 5,maxRows: 6}\"  placeholder=\"请输入工作内容\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle:\"添加工作类型\",\r\n\t\t\t\turl: \"http://localhost:8080\",\r\n\t\t\t\tcount: 10,\r\n\t\t\t\tmodal13: false,\r\n\t\t\t\tmodal14:false,\r\n\t\t\t\tdepartmentType:[],\r\n\t\t\t\tcolumns7: [{\r\n\t\t\t\t\t\ttitle: '工作编号',\r\n\t\t\t\t\t\tkey: 'wId',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\t\treturn h('div', [\r\n\t\t\t\t\t\t\t\th('Icon', {\r\n\t\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\t\ttype: 'person'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\th('strong', params.row.wId)\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '工作标题',\r\n\t\t\t\t\t\tkey: 'wTitle',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '负责部门',\r\n\t\t\t\t\t\tkey: 'dName',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '总负责人',\r\n\t\t\t\t\t\tkey: 'mName',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '时间',\r\n\t\t\t\t\t\tkey: 'wDate',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '备注',\r\n\t\t\t\t\t\tkey: 'wRemarks',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '工作内容',\r\n\t\t\t\t\t\tkey: 'wContents',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\t\tkey: 'action',\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\t\treturn h('div', [\r\n\t\t\t\t\t\t\t\th('Button', {\r\n\t\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\t\ttype: 'primary',\r\n\t\t\t\t\t\t\t\t\t\tsize: 'small'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\tmarginRight: '5px'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.show(params.row)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, '编辑'),\r\n\t\t\t\t\t\t\t\th('Button', {\r\n\t\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\t\t\tsize: 'small'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.remove(params.row.wId, params.index)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, '移除')\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata6: [],\r\n\t\t\t\tmemberInformationType:[],\r\n\t\t\t\tworkArrangement: {\r\n\t\t\t\t\twId: 0,\r\n\t\t\t\t\twTitle: \"\",\r\n\t\t\t\t\twRemarks: \"\",\r\n\t\t\t\t\tdName: \"\",\r\n\t\t\t\t\tdId: \"\",\r\n\t\t\t\t\tmName: \"\",\r\n\t\t\t\t\twDate:\"\",\r\n\t\t\t\t\twContents:\"\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshow(data) {\r\n\t\t\t\tthis.modal13 = true;\r\n\t\t\t\tthis.workArrangement.wId=data.wId;\r\n\t\t\t\tthis.workArrangement.dId=data.dId;\r\n\t\t\t\tthis.workArrangement.wTitle=data.wTitle;\r\n\t\t\t\tthis.workArrangement.wRemarks=data.wRemarks;\r\n\t\t\t\tthis.workArrangement.wDate=data.wDate;\r\n\t\t\t\tthis.workArrangement.wContents=data.wContents;\r\n\t\t\t\tthis.workArrangement.mName=data.mName;\r\n\t\t\t},\r\n\t\t\tchangePage(page) {\r\n\t\t\t\tconst th = this;\r\n\t\t\t\taxios.get(th.url + '/workArrangement/selectAll', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpageNum: page\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar datares = res.data.data.map((e) => {\r\n\t\t\t\t\t\te.dName = e.departmentType.dName;\r\n\t\t\t\t\t\treturn e\r\n\t\t\t\t\t});\r\n\t\t\t\t\tth.data6=datares;\r\n\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\t/* for(let data of res.data.data){\r\n\t\t\t\t\t\tth.data6.push({\r\n\t\t\t\t\t\t\"wId\":data.wId,\r\n\t\t\t\t\t\t\"dId\":data.dId,\r\n\t\t\t\t\t\t\"wTitle\":data.wTitle,\r\n\t\t\t\t\t\t\"wRemarks\":data.wRemarks,\r\n\t\t\t\t\t\t\"wDate\":data.wDate,\r\n\t\t\t\t\t\t\"wContents\":data.wContents,\r\n\t\t\t\t\t\t\"dName\":data.departmentType.dName,\r\n\t\t\t\t\t\t\"mName\":data.mName}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} */\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectAdd(){\r\n\t\t\t\tconst th = this;\r\n\t\t\t\taxios.get(th.url + '/departmentType/iSelectAllStatus').then(function(res) {\r\n\t\t\t\t\tth.departmentType = res.data.data;\r\n\t\t\t\t})\r\n\t\t\t\taxios.get(th.url + '/memberInformation/iSelectName', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpId: 4\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\tth.memberInformationType = res.data.data;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadd(){\r\n\t\t\t\tthis.modal14=true;\r\n\t\t\t\t},\r\n\t\t\tremove(wId, index) {\r\n\t\t\t\tthis.$Modal.confirm({\r\n\t\t\t\t\ttitle: '删除提示',\r\n\t\t\t\t\tcontent: '<p>移除后不可恢复，确定继续？</p>',\r\n\t\t\t\t\tonOk: () => {\r\n\t\t\t\t\t\tconst th = this;\r\n\t\t\t\t\t\taxios.get(th.url + '/workArrangement/deleteByPrimaryKey', {\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\twId: wId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\t\t\tif (res.data.code === 1028) {\r\n\t\t\t\t\t\t\t\tth.$Message.success(res.data.message);\r\n\t\t\t\t\t\t\t\tth.changePage(1);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tth.$Message.error(res.data.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tok() {\r\n\t\t\t\tconst th = this;\r\n\t\t\t\taxios.post(th.url + '/workArrangement/updateByPrimaryKey', th.workArrangement, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json;charset=utf-8\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\tif (res.data.code === 1028) {\r\n\t\t\t\t\t\tth.$Message.success(res.data.message);\r\n\t\t\t\t\t\tth.changePage(1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tth.$Message.error(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t},oks() {\r\n\t\t\t\tconst th = this;\r\n\t\t\t\taxios.post(th.url + '/workArrangement/insert', th.workArrangement, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json;charset=utf-8\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\tif (res.data.code === 1028) {\r\n\t\t\t\t\t\tth.$Message.success(res.data.message);\r\n\t\t\t\t\t\tth.changePage(1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tth.$Message.error(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.changePage(1);\r\n\t\t\tthis.selectAdd();\r\n\t\t}\r\n\t}\r\n</script>\n"],"sourceRoot":"src\\components\\workArrangement"}]}